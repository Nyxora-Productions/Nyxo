(function(w,P,e,r,k,d,T,V,h,l,f,z){"use strict";function M(){const[a,t]=e.React.useState(0),[n,s]=e.React.useState(null),i=e.stylesheet.createThemedStyleSheet({container:{width:"100%",paddingVertical:24,justifyContent:"center",alignItems:"center"},innerContainer:{flexDirection:"row",alignItems:"center",gap:16},avatarWrapper:{width:72,height:72,borderRadius:20,overflow:"hidden",justifyContent:"center",alignItems:"center",backgroundColor:d.semanticColors.BACKGROUND_SECONDARY},avatar:{width:68,height:68,borderRadius:18},textContainer:{maxWidth:220,justifyContent:"center"},title:{fontSize:22,fontWeight:"700",color:d.semanticColors.TEXT_DEFAULT},subtitle:{marginTop:4,fontSize:14,fontWeight:"600",color:d.semanticColors.TEXT_MUTED,flexWrap:"wrap"}}),g=function(){if(r.storage.hiddenSettings?.enabled){r.storage.hiddenSettings.visible=!r.storage.hiddenSettings.visible,T.showToast(`Hidden settings ${r.storage.hiddenSettings.visible?"visible":"hidden"}`,null);const o=globalThis.__animalCommandsRefreshSettings;typeof o=="function"&&o();return}n&&clearTimeout(n);const v=setTimeout(function(){return t(0)},1e3);s(v);const y=a+1;if(t(y),y<10)return;T.showToast("Hidden settings unlocked!",null),r.storage.hiddenSettings={...r.storage.hiddenSettings,enabled:!0,visible:!0};const p=globalThis.__animalCommandsRefreshSettings;typeof p=="function"&&p(),t(0)};return e.React.createElement(e.ReactNative.View,{style:i.container},e.React.createElement(e.ReactNative.View,{style:i.innerContainer},e.React.createElement(e.ReactNative.Pressable,{style:i.avatarWrapper,onPress:g},e.React.createElement(e.ReactNative.Image,{source:{uri:"https://raw.githubusercontent.com/n0t-a-username/RevPlugins/refs/heads/master/plugins/template/src/components/Bemmo.png"},style:i.avatar,resizeMode:"cover"})),e.React.createElement(e.ReactNative.View,{style:i.textContainer},e.React.createElement(e.ReactNative.Text,{style:i.title},"Bemmo"),e.React.createElement(e.ReactNative.Text,{style:i.subtitle},"The only self-bot for vendetta fork based mobile clients!"))))}function m({title:a,icon:t,children:n,padding:s=!1}){const i=e.stylesheet.createThemedStyleSheet({main:{backgroundColor:d.rawColors.PLUM_18,borderColor:d.semanticColors.CARD_BACKGROUND_DEFAULT,borderWidth:1,borderRadius:16,overflow:"hidden",flex:1,maxWidth:"100%"},titleContainer:{marginBottom:8,marginHorizontal:16,marginTop:8,gap:8,flexDirection:"row",alignItems:"center"},icon:{width:22,height:22,tintColor:d.semanticColors.TEXT_MUTED},titleText:{fontSize:16,fontWeight:"600",color:d.semanticColors.TEXT_MUTED,marginTop:2},wrapper:{marginHorizontal:16,marginTop:16,maxWidth:"100%"}});return e.React.createElement(e.ReactNative.View,{style:i.wrapper},a&&e.React.createElement(e.ReactNative.View,{style:i.titleContainer},t&&e.React.createElement(e.ReactNative.Image,{style:i.icon,source:t,resizeMode:"cover"}),e.React.createElement(e.ReactNative.Text,{style:i.titleText},a.toUpperCase())),e.React.createElement(e.ReactNative.View,{style:i.main},s?e.React.createElement(e.ReactNative.View,{style:{paddingHorizontal:16,paddingVertical:16}},n):n))}const{ScrollView:W,View:R,Text:C,TextInput:N,Animated:x,Easing:A,Image:B}=e.ReactNative,q=V.Forms||{},{FormRow:E}=q;(!Array.isArray(r.storage.words)||r.storage.words.length!==10)&&(r.storage.words=Array(10).fill("")),typeof r.storage.eventGiveawayPing!="string"&&(r.storage.eventGiveawayPing="");const b={backgroundColor:"#222",color:"#fff",borderRadius:8,paddingHorizontal:12,paddingVertical:10,fontSize:14,borderWidth:2,borderColor:"#333"},H=h.getAssetIDByName("ic_information_24px"),L=h.getAssetIDByName("SlashBoxIcon"),O=h.getAssetIDByName("SlashBoxIcon"),j=h.getAssetIDByName("ic_activity_24px"),K=h.getAssetIDByName("ic_arrow_forward_24px"),X=h.getAssetIDByName("ic_arrow_back_24px");function Y(){k.useProxy(r.storage);const[a,t]=e.React.useState("main"),[n,s]=e.React.useState(0),i=e.React.useRef(new x.Value(0)).current,g=e.React.useRef(null);e.React.useEffect(function(){x.timing(i,{toValue:a==="raidMessages"?1:0,duration:220,easing:A.out(A.cubic),useNativeDriver:!0}).start()},[a,i]);const v=n>0?i.interpolate({inputRange:[0,1],outputRange:[0,-n]}):0,y=function(){return e.React.createElement(e.React.Fragment,null,e.React.createElement(M,null),e.React.createElement(m,{title:"Information",icon:H,padding:!0},e.React.createElement(C,{style:{color:"#aaa"}},"Commands: /gemini, /math, /serverinfo, /coinflip, /mcs, /msp, /nuke, /raid, /purge, /userid, /lockdown, /fetchprofile")),e.React.createElement(m,{title:"Gemini AI Configuration",icon:j,padding:!0},e.React.createElement(C,{style:{color:"#fff",marginBottom:8}},"Google API Key"),e.React.createElement(N,{secureTextEntry:!0,placeholder:"Paste your API key here...",placeholderTextColor:"#666",value:r.storage.geminiKey,onChangeText:function(o){return r.storage.geminiKey=o},style:b})),e.React.createElement(m,{title:"Mass Ping List",icon:O,padding:!0},e.React.createElement(N,{multiline:!0,value:r.storage.eventGiveawayPing,onChangeText:function(o){return r.storage.eventGiveawayPing=o},style:{...b,minHeight:100}})),E&&e.React.createElement(E,{label:"Edit Raid Messages",trailing:e.React.createElement(B,{source:K,style:{width:24,height:24,tintColor:d.semanticColors.TEXT_MUTED}}),onPress:function(){return t("raidMessages")}}))},p=function(){return e.React.createElement(e.React.Fragment,null,e.React.createElement(M,null),e.React.createElement(m,{title:"Raid Messages",icon:L,padding:!0},[...Array(10).keys()].map(function(o){return e.React.createElement(R,{key:o,style:{marginBottom:12}},e.React.createElement(C,{style:{color:"#fff",marginBottom:6}},"Message ",o+1),e.React.createElement(N,{style:b,value:r.storage.words[o],onChangeText:function(se){return r.storage.words[o]=se}}))})),e.React.createElement(R,{style:{height:20}}),E&&e.React.createElement(E,{label:"Back",trailing:e.React.createElement(B,{source:X,style:{width:24,height:24,tintColor:d.semanticColors.TEXT_MUTED}}),onPress:function(){return t("main")}}),e.React.createElement(R,{style:{height:60}}))};return e.React.createElement(R,{style:{flex:1},onLayout:function(o){return s(o.nativeEvent.layout.width)}},e.React.createElement(W,{ref:g,style:{flex:1}},e.React.createElement(x.View,{style:{flexDirection:"row",width:n>0?n*2:"200%",transform:[{translateX:v}]}},e.React.createElement(R,{style:{width:n||"100%"}},y()),e.React.createElement(R,{style:{width:n||"100%"}},p()))))}const{View:J,Text:$,TouchableOpacity:Q}=e.ReactNative,D=l.findByName("UserProfileCard");function Z({userId:a}){if(!D)return null;const t=function(){const n=`<@${a}>`;r.storage.eventGiveawayPing.includes(n)||(r.storage.eventGiveawayPing=r.storage.eventGiveawayPing.trim().length>0?r.storage.eventGiveawayPing+`
`+n:n,T.showToast("Successfully added to list!"))};return e.React.createElement(J,{style:{paddingHorizontal:16,marginTop:-18}}," ",e.React.createElement(D,{title:"Mass Ping"},e.React.createElement(Q,{style:{backgroundColor:"#FF4444",paddingVertical:10,borderRadius:12,alignItems:"center"},onPress:t},e.React.createElement($,{style:{color:"white",fontWeight:"600"}},"Add To Mass Selective Ping List")),e.React.createElement($,{style:{fontSize:32,color:"transparent"}}," ")))}const ee=l.findByProps("sendMessage","editMessage"),I=l.findByStoreName("UserStore"),te=l.findByStoreName("GuildStore");l.findByProps("getChannel");const _=l.findByProps("get","del","post","put","patch"),{receiveMessage:ae}=l.findByProps("receiveMessage"),{createBotMessage:ne}=l.findByProps("createBotMessage"),F=[],U=function(a){return new Promise(function(t){return setTimeout(t,a)})},c=function(a,t){return ae(a,Object.assign(ne({channelId:a,content:t}),{author:I.getCurrentUser()}))},S=function(a,t){return ee.sendMessage(a,{content:t},void 0,{nonce:Date.now().toString()})},u=function(a,t){return a.find(function(n){return n.name===t})?.value};function ie(){const a=(r.storage.words||[]).filter(function(t){return typeof t=="string"&&t.trim().length});return a.length?a[Math.floor(Math.random()*a.length)]:"### (no spam messages configured)"}F.push(f.registerCommand({name:"gemini",displayName:"gemini",description:"Ask Gemini AI something",options:[{name:"prompt",displayName:"prompt",description:"Your question",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:async function(a,t){const n=u(a,"prompt"),s=r.storage.geminiKey;if(!s)return c(t.channel.id,"\u274C No API Key found. Set it in plugin settings!");try{const i=(await(await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${s}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:n}]}]})})).json()).candidates?.[0]?.content?.parts?.[0]?.text||"No response from AI.";S(t.channel.id,`**Gemini AI:**
${i}`)}catch(i){c(t.channel.id,`\u26A0\uFE0F API Error: ${i}`)}}}),f.registerCommand({name:"math",displayName:"math",description:"Solve an equation",options:[{name:"expression",displayName:"expression",description:"e.g. 2 + 2",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(a,t){try{const n=Function(`return ${u(a,"expression")}`)();c(t.channel.id,`\u{1F522} Result: **${n}**`)}catch{c(t.channel.id,"\u274C Invalid expression.")}}}),f.registerCommand({name:"serverinfo",displayName:"serverinfo",description:"Get server stats",applicationId:"-1",inputType:1,type:1,execute:function(a,t){const n=te.getGuild(t.channel.guild_id);if(!n)return c(t.channel.id,"\u274C Not in a server.");c(t.channel.id,`\u{1F3F0} **${n.name}**
\u{1F194} ID: \`${n.id}\`
\u{1F465} Members: ${n.approximateMemberCount||"Unknown"}`)}}),f.registerCommand({name:"coinflip",displayName:"coinflip",description:"Heads or Tails",applicationId:"-1",inputType:1,type:1,execute:function(a,t){const n=Math.random()>.5?"Heads":"Tails";S(t.channel.id,`\u{1FA99} I flipped a coin and got: **${n}**`)}}),f.registerCommand({name:"raid",displayName:"raid",description:"Start a raid",options:[{name:"amount",displayName:"amount",description:"Times",required:!0,type:4},{name:"delay",displayName:"delay",description:"Delay (ms)",required:!0,type:4}],applicationId:"-1",inputType:1,type:1,execute:async function(a,t){const n=u(a,"amount"),s=u(a,"delay");for(let i=0;i<n;i++)await U(s),S(t.channel.id,`${ie()} ${Math.floor(Math.random()*100)}`)}}),f.registerCommand({name:"fetchprofile",displayName:"fetchprofile",description:"Fetch avatar",options:[{name:"user",displayName:"user",description:"ID/Mention",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(a,t){const n=u(a,"user")?.replace(/[<@!>]/g,""),s=I.getUser(n);if(!s)return c(t.channel.id,"\u274C User not found");const i=s.getAvatarURL?.({format:"png",size:512})||`https://cdn.discordapp.com/embed/avatars/${Number(s.discriminator)%5}.png`;c(t.channel.id,i)}}),f.registerCommand({name:"purge",displayName:"purge",description:"Delete messages",options:[{name:"amount",displayName:"amount",description:"Count",required:!1,type:4},{name:"self",displayName:"self",description:"Self only?",required:!0,type:5},{name:"delay",displayName:"delay",description:"Delay (ms)",required:!1,type:4}],applicationId:"-1",inputType:1,type:1,execute:async function(a,t){const n=u(a,"amount")??50,s=u(a,"self"),i=u(a,"delay")??100;try{const{body:g}=await _.get({url:`/channels/${t.channel.id}/messages?limit=100`}),v=(s?g.filter(function(p){return p.author.id===I.getCurrentUser().id}):g).slice(0,n);let y=0;for(const p of v)await _.del({url:`/channels/${t.channel.id}/messages/${p.id}`}),y++,await U(i);c(t.channel.id,`\u{1F9F9} Purged ${y} messages.`)}catch(g){c(t.channel.id,`\u26A0\uFE0F Error: ${g}`)}}}));const G=l.findByTypeName("UserProfile")||l.findByTypeName("UserProfileContent");G&&z.after("type",G,function(a,t){const n=t?.props?.children,s=a[0]?.userId??a[0]?.user?.id;n&&s&&n.push(e.React.createElement(Z,{userId:s}))});var re={onLoad:function(){return P.logger.log("Commands loaded.")},onUnload:function(){F.forEach(function(a){return a()}),P.logger.log("Unloaded.")},settings:Y};return w.default=re,Object.defineProperty(w,"__esModule",{value:!0}),w})({},vendetta,vendetta.metro.common,vendetta.plugin,vendetta.storage,vendetta.ui,vendetta.ui.toasts,vendetta.ui.components,vendetta.ui.assets,vendetta.metro,vendetta.commands,vendetta.patcher);
