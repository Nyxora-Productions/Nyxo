(function(I,U,u,i,Y,F,A,Q,$,y,d,X){"use strict";function j(){const[n,e]=u.React.useState(0),[t,a]=u.React.useState(null),r=u.stylesheet.createThemedStyleSheet({container:{width:"100%",paddingVertical:24,justifyContent:"center",alignItems:"center"},innerContainer:{flexDirection:"row",alignItems:"center",gap:16},avatarWrapper:{width:72,height:72,borderRadius:20,overflow:"hidden",justifyContent:"center",alignItems:"center",backgroundColor:F.semanticColors.BACKGROUND_SECONDARY},avatar:{width:68,height:68,borderRadius:18},textContainer:{maxWidth:220,justifyContent:"center"},title:{fontSize:22,fontWeight:"700",color:F.semanticColors.TEXT_DEFAULT},subtitle:{marginTop:4,fontSize:14,fontWeight:"600",color:F.semanticColors.TEXT_MUTED,flexWrap:"wrap"}}),c=function(){if(i.storage.hiddenSettings?.enabled){i.storage.hiddenSettings.visible=!i.storage.hiddenSettings.visible,A.showToast(`Hidden settings ${i.storage.hiddenSettings.visible?"visible":"hidden"}`,null);const f=globalThis.__animalCommandsRefreshSettings;typeof f=="function"&&f();return}t&&clearTimeout(t);const m=setTimeout(function(){return e(0)},1e3);a(m);const h=n+1;if(e(h),h<10)return;A.showToast("Hidden settings unlocked!",null),i.storage.hiddenSettings={...i.storage.hiddenSettings,enabled:!0,visible:!0};const x=globalThis.__animalCommandsRefreshSettings;typeof x=="function"&&x(),e(0)};return u.React.createElement(u.ReactNative.View,{style:r.container},u.React.createElement(u.ReactNative.View,{style:r.innerContainer},u.React.createElement(u.ReactNative.Pressable,{style:r.avatarWrapper,onPress:c},u.React.createElement(u.ReactNative.Image,{source:{uri:"https://raw.githubusercontent.com/n0t-a-username/RevPlugins/refs/heads/master/plugins/template/src/components/Bemmo.png"},style:r.avatar,resizeMode:"cover"})),u.React.createElement(u.ReactNative.View,{style:r.textContainer},u.React.createElement(u.ReactNative.Text,{style:r.title},"Bemmo"),u.React.createElement(u.ReactNative.Text,{style:r.subtitle},"The only self-bot for vendetta fork based mobile clients!"))))}function b({title:n,icon:e,children:t,padding:a=!1}){const r=u.stylesheet.createThemedStyleSheet({main:{backgroundColor:F.rawColors.PLUM_18,borderColor:F.semanticColors.CARD_BACKGROUND_DEFAULT,borderWidth:1,borderRadius:16,overflow:"hidden",flex:1,maxWidth:"100%"},titleContainer:{marginBottom:8,marginHorizontal:16,marginTop:8,gap:8,flexDirection:"row",alignItems:"center"},icon:{width:22,height:22,tintColor:F.semanticColors.TEXT_MUTED},titleText:{fontSize:16,fontWeight:"600",color:F.semanticColors.TEXT_MUTED,marginTop:2},wrapper:{marginHorizontal:16,marginTop:16,maxWidth:"100%"}});return u.React.createElement(u.ReactNative.View,{style:r.wrapper},n&&u.React.createElement(u.ReactNative.View,{style:r.titleContainer},e&&u.React.createElement(u.ReactNative.Image,{style:r.icon,source:e,resizeMode:"cover"}),u.React.createElement(u.ReactNative.Text,{style:r.titleText},n.toUpperCase())),u.React.createElement(u.ReactNative.View,{style:r.main},a?u.React.createElement(u.ReactNative.View,{style:{paddingHorizontal:16,paddingVertical:16}},t):t))}const{ScrollView:J,View:w,Text:k,TextInput:R,Animated:q,Easing:L,Image:P}=u.ReactNative,Z=Q.Forms||{},{FormRow:T}=Z;(!Array.isArray(i.storage.words)||i.storage.words.length!==10)&&(i.storage.words=Array(10).fill("")),typeof i.storage.eventGiveawayPing!="string"&&(i.storage.eventGiveawayPing="");const S={backgroundColor:"#222",color:"#fff",borderRadius:8,paddingHorizontal:12,paddingVertical:10,fontSize:14,borderWidth:2,borderColor:"#333"},ee=$.getAssetIDByName("ic_information_24px"),te=$.getAssetIDByName("SlashBoxIcon"),ne=$.getAssetIDByName("SlashBoxIcon"),ae=$.getAssetIDByName("ic_activity_24px"),ie=$.getAssetIDByName("ic_arrow_forward_24px"),oe=$.getAssetIDByName("ic_arrow_back_24px");function re(){Y.useProxy(i.storage);const[n,e]=u.React.useState("main"),[t,a]=u.React.useState(0),r=u.React.useRef(new q.Value(0)).current,c=u.React.useRef(null);u.React.useEffect(function(){q.timing(r,{toValue:n==="raidMessages"?1:0,duration:220,easing:L.out(L.cubic),useNativeDriver:!0}).start()},[n,r]);const m=t>0?r.interpolate({inputRange:[0,1],outputRange:[0,-t]}):0,h=function(){return u.React.createElement(u.React.Fragment,null,u.React.createElement(j,null),u.React.createElement(b,{title:"Information",icon:ee,padding:!0},u.React.createElement(k,{style:{color:"#aaa"}},"Commands: /gemini, /math, /serverinfo, /coinflip, /mcs, /msp, /nuke, /raid, /purge, /userid, /lockdown, /fetchprofile")),u.React.createElement(b,{title:"Gemini AI Configuration",icon:ae,padding:!0},u.React.createElement(k,{style:{color:"#fff",marginBottom:8}},"Google API Key"),u.React.createElement(R,{secureTextEntry:!0,placeholder:"Paste your API key here...",placeholderTextColor:"#666",value:i.storage.geminiKey,onChangeText:function(f){return i.storage.geminiKey=f},style:S})),u.React.createElement(b,{title:"Mass Ping List",icon:ne,padding:!0},u.React.createElement(R,{multiline:!0,value:i.storage.eventGiveawayPing,onChangeText:function(f){return i.storage.eventGiveawayPing=f},style:{...S,minHeight:100}})),T&&u.React.createElement(T,{label:"Edit Raid Messages",trailing:u.React.createElement(P,{source:ie,style:{width:24,height:24,tintColor:F.semanticColors.TEXT_MUTED}}),onPress:function(){return e("raidMessages")}}))},x=function(){return u.React.createElement(u.React.Fragment,null,u.React.createElement(j,null),u.React.createElement(b,{title:"Raid Messages",icon:te,padding:!0},[...Array(10).keys()].map(function(f){return u.React.createElement(w,{key:f,style:{marginBottom:12}},u.React.createElement(k,{style:{color:"#fff",marginBottom:6}},"Message ",f+1),u.React.createElement(R,{style:S,value:i.storage.words[f],onChangeText:function(Re){return i.storage.words[f]=Re}}))})),u.React.createElement(w,{style:{height:20}}),T&&u.React.createElement(T,{label:"Back",trailing:u.React.createElement(P,{source:oe,style:{width:24,height:24,tintColor:F.semanticColors.TEXT_MUTED}}),onPress:function(){return e("main")}}),u.React.createElement(w,{style:{height:60}}))};return u.React.createElement(w,{style:{flex:1},onLayout:function(f){return a(f.nativeEvent.layout.width)}},u.React.createElement(J,{ref:c,style:{flex:1}},u.React.createElement(q.View,{style:{flexDirection:"row",width:t>0?t*2:"200%",transform:[{translateX:m}]}},u.React.createElement(w,{style:{width:t||"100%"}},h()),u.React.createElement(w,{style:{width:t||"100%"}},x()))))}const{View:se,Text:_,TouchableOpacity:de}=u.ReactNative,G=y.findByName("UserProfileCard");function ue({userId:n}){if(!G)return null;const e=function(){const t=`<@${n}>`;i.storage.eventGiveawayPing.includes(t)||(i.storage.eventGiveawayPing=i.storage.eventGiveawayPing.trim().length>0?i.storage.eventGiveawayPing+`
`+t:t,A.showToast("Successfully added to list!"))};return u.React.createElement(se,{style:{paddingHorizontal:16,marginTop:-18}}," ",u.React.createElement(G,{title:"Mass Ping"},u.React.createElement(de,{style:{backgroundColor:"#FF4444",paddingVertical:10,borderRadius:12,alignItems:"center"},onPress:e},u.React.createElement(_,{style:{color:"white",fontWeight:"600"}},"Add To Mass Selective Ping List")),u.React.createElement(_,{style:{fontSize:32,color:"transparent"}}," ")))}const ce=y.findByProps("sendMessage","editMessage"),g=y.findByStoreName("UserStore"),E=y.findByStoreName("GuildStore");y.findByProps("getChannel");const l=y.findByProps("get","del","post","put","patch"),{receiveMessage:pe}=y.findByProps("receiveMessage"),{createBotMessage:le}=y.findByProps("createBotMessage");y.findByStoreName("PresenceStore"),y.findByStoreName("RelationshipStore"),y.findByStoreName("GuildMemberStore"),y.findByStoreName("VoiceStateStore"),y.findByProps("createInvite"),y.findByProps("setStatus","setCustomStatus"),y.findByStoreName("MessageStore");const N=y.findByProps("dispatch","subscribe"),M=[],z=[],C=function(n){return new Promise(function(e){return setTimeout(e,n)})},B=new Map,D=new Map,me=Date.now();i.storage.notes||(i.storage.notes=[]),i.storage.tags||(i.storage.tags={}),i.storage.macros||(i.storage.macros={}),i.storage.aliases||(i.storage.aliases={}),i.storage.todos||(i.storage.todos=[]),i.storage.savedQuotes||(i.storage.savedQuotes=[]),i.storage.afkReason||(i.storage.afkReason=null),i.storage.afkEnabled||(i.storage.afkEnabled=!1),i.storage.autoReplyEnabled||(i.storage.autoReplyEnabled=!1),i.storage.autoReplyMsg||(i.storage.autoReplyMsg=""),i.storage.keywordAlerts||(i.storage.keywordAlerts=[]),i.storage.deletedLoggerEnabled||(i.storage.deletedLoggerEnabled=!1),i.storage.editLoggerEnabled||(i.storage.editLoggerEnabled=!1),i.storage.deletedLogChannel||(i.storage.deletedLogChannel=null),i.storage.editLogChannel||(i.storage.editLogChannel=null),i.storage.blocklist||(i.storage.blocklist=[]);const o=function(n,e){return pe(n,Object.assign(le({channelId:n,content:e}),{author:g.getCurrentUser()}))},p=function(n,e){return ce.sendMessage(n,{content:e},void 0,{nonce:Date.now().toString()})},s=function(n,e){return n.find(function(t){return t.name===e})?.value};function ye(){const n=(i.storage.words||[]).filter(function(e){return typeof e=="string"&&e.trim().length});return n.length?n[Math.floor(Math.random()*n.length)]:"### (no spam messages configured)"}function he(n){return n.split("").map(function(e,t){return t%2===0?e.toLowerCase():e.toUpperCase()}).join("")}function ge(n){const e=["\u0300","\u0301","\u0302","\u0303","\u0308","\u0307","\u030A","\u0306","\u0335","\u0336","\u0337","\u0338","\u033F","\u0320","\u0321","\u0322","\u0323","\u0324","\u0325","\u0326"];return n.split("").map(function(t){if(t===" ")return t;let a=t;const r=Math.floor(Math.random()*4)+2;for(let c=0;c<r;c++)a+=e[Math.floor(Math.random()*e.length)];return a}).join("")}function fe(n){const e={a:"\u{1D4EA}",b:"\u{1D4EB}",c:"\u{1D4EC}",d:"\u{1D4ED}",e:"\u{1D4EE}",f:"\u{1D4EF}",g:"\u{1D4F0}",h:"\u{1D4F1}",i:"\u{1D4F2}",j:"\u{1D4F3}",k:"\u{1D4F4}",l:"\u{1D4F5}",m:"\u{1D4F6}",n:"\u{1D4F7}",o:"\u{1D4F8}",p:"\u{1D4F9}",q:"\u{1D4FA}",r:"\u{1D4FB}",s:"\u{1D4FC}",t:"\u{1D4FD}",u:"\u{1D4FE}",v:"\u{1D4FF}",w:"\u{1D500}",x:"\u{1D501}",y:"\u{1D502}",z:"\u{1D503}",A:"\u{1D4D0}",B:"\u{1D4D1}",C:"\u{1D4D2}",D:"\u{1D4D3}",E:"\u{1D4D4}",F:"\u{1D4D5}",G:"\u{1D4D6}",H:"\u{1D4D7}",I:"\u{1D4D8}",J:"\u{1D4D9}",K:"\u{1D4DA}",L:"\u{1D4DB}",M:"\u{1D4DC}",N:"\u{1D4DD}",O:"\u{1D4DE}",P:"\u{1D4DF}",Q:"\u{1D4E0}",R:"\u{1D4E1}",S:"\u{1D4E2}",T:"\u{1D4E3}",U:"\u{1D4E4}",V:"\u{1D4E5}",W:"\u{1D4E6}",X:"\u{1D4E7}",Y:"\u{1D4E8}",Z:"\u{1D4E9}"};return n.split("").map(function(t){return e[t]||t}).join("")}function Ce(n){const e={a:"4",e:"3",i:"1",o:"0",s:"5",t:"7",g:"9",b:"8"};return n.split("").map(function(t){return e[t.toLowerCase()]||t}).join("")}function xe(n){return n.split("").map(function(e){const t=e.toLowerCase().charCodeAt(0);return t>=97&&t<=122?String.fromCodePoint(127462+(t-97))+" ":e===" "?"  ":e}).join("")}function Fe(n){const e={a:"\u1D43",b:"\u1D47",c:"\u1D9C",d:"\u1D48",e:"\u1D49",f:"\u1DA0",g:"\u1D4D",h:"\u02B0",i:"\u2071",j:"\u02B2",k:"\u1D4F",l:"\u02E1",m:"\u1D50",n:"\u207F",o:"\u1D52",p:"\u1D56",q:"\u1D60",r:"\u02B3",s:"\u02E2",t:"\u1D57",u:"\u1D58",v:"\u1D5B",w:"\u02B7",x:"\u02E3",y:"\u02B8",z:"\u1DBB"};return n.toLowerCase().split("").map(function(t){return e[t]||t}).join("")}function Ne(n){return n.split("").join(" ")}function $e(n){return n.split("").map(function(e){return e.charCodeAt(0).toString(2).padStart(8,"0")}).join(" ")}function we(n){return n.split("").map(function(e){return e.charCodeAt(0).toString(16).padStart(2,"0")}).join(" ")}function Ee(n){return btoa(unescape(encodeURIComponent(n)))}function De(n){return decodeURIComponent(escape(atob(n)))}function be(n){let e=0;for(let t=0;t<n.length;t++)e=(e<<5)-e+n.charCodeAt(t),e|=0;return e>>>0}function Te(n){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()_+-=";return Array.from({length:n},function(){return e[Math.floor(Math.random()*e.length)]}).join("")}function ve(n){const e=["","","","",""],t={A:["\u2588\u2588\u2588","\u2588 \u2588","\u2588\u2588\u2588","\u2588 \u2588","\u2588 \u2588"],B:["\u2588\u2588 ","\u2588 \u2588","\u2588\u2588 ","\u2588 \u2588","\u2588\u2588 "],C:["\u2588\u2588\u2588","\u2588  ","\u2588  ","\u2588  ","\u2588\u2588\u2588"],D:["\u2588\u2588 ","\u2588 \u2588","\u2588 \u2588","\u2588 \u2588","\u2588\u2588 "],E:["\u2588\u2588\u2588","\u2588  ","\u2588\u2588\u2588","\u2588  ","\u2588\u2588\u2588"],F:["\u2588\u2588\u2588","\u2588  ","\u2588\u2588\u2588","\u2588  ","\u2588  "],G:["\u2588\u2588\u2588","\u2588  ","\u2588 \u2588","\u2588 \u2588","\u2588\u2588\u2588"],H:["\u2588 \u2588","\u2588 \u2588","\u2588\u2588\u2588","\u2588 \u2588","\u2588 \u2588"],I:["\u2588\u2588\u2588"," \u2588 "," \u2588 "," \u2588 ","\u2588\u2588\u2588"],J:[" \u2588\u2588","  \u2588","  \u2588","\u2588 \u2588","\u2588\u2588\u2588"],K:["\u2588 \u2588","\u2588\u2588 ","\u2588  ","\u2588\u2588 ","\u2588 \u2588"],L:["\u2588  ","\u2588  ","\u2588  ","\u2588  ","\u2588\u2588\u2588"],M:["\u2588 \u2588","\u2588\u2588\u2588","\u2588\u2588\u2588","\u2588 \u2588","\u2588 \u2588"],N:["\u2588 \u2588","\u2588\u2588 \u2588","\u2588 \u2588","\u2588  \u2588","\u2588 \u2588"],O:["\u2588\u2588\u2588","\u2588 \u2588","\u2588 \u2588","\u2588 \u2588","\u2588\u2588\u2588"],P:["\u2588\u2588\u2588","\u2588 \u2588","\u2588\u2588\u2588","\u2588  ","\u2588  "],Q:["\u2588\u2588\u2588","\u2588 \u2588","\u2588 \u2588","\u2588\u2588 ","\u2588\u2588\u2588"],R:["\u2588\u2588\u2588","\u2588 \u2588","\u2588\u2588\u2588","\u2588\u2588 ","\u2588 \u2588"],S:["\u2588\u2588\u2588","\u2588  ","\u2588\u2588\u2588","  \u2588","\u2588\u2588\u2588"],T:["\u2588\u2588\u2588"," \u2588 "," \u2588 "," \u2588 "," \u2588 "],U:["\u2588 \u2588","\u2588 \u2588","\u2588 \u2588","\u2588 \u2588","\u2588\u2588\u2588"],V:["\u2588 \u2588","\u2588 \u2588","\u2588 \u2588","\u2588 \u2588"," \u2588 "],W:["\u2588 \u2588","\u2588 \u2588","\u2588\u2588\u2588","\u2588\u2588\u2588","\u2588 \u2588"],X:["\u2588 \u2588"," \u2588 "," \u2588 "," \u2588 ","\u2588 \u2588"],Y:["\u2588 \u2588","\u2588 \u2588"," \u2588 "," \u2588 "," \u2588 "],Z:["\u2588\u2588\u2588","  \u2588"," \u2588 ","\u2588  ","\u2588\u2588\u2588"]," ":["   ","   ","   ","   ","   "]};for(const a of n.toUpperCase()){const r=t[a]||t[" "];for(let c=0;c<5;c++)e[c]+=(r[c]||"   ")+" "}return"```\n"+e.join(`
`)+"\n```"}const O=["It is certain.","It is decidedly so.","Without a doubt.","Yes, definitely.","You may rely on it.","As I see it, yes.","Most likely.","Outlook good.","Yes.","Signs point to yes.","Reply hazy, try again.","Ask again later.","Better not tell you now.","Cannot predict now.","Concentrate and ask again.","Don't count on it.","My reply is no.","My sources say no.","Outlook not so good.","Very doubtful."],Ie=function(n){if(!i.storage.deletedLoggerEnabled)return;const e=n.channelId||n.channel_id,t=n.id||n.message?.id,a=B.get(t)||{content:n.message?.content||"[unknown]",author:n.message?.author?.username||"Unknown",timestamp:Date.now()},r=i.storage.deletedLogChannel||e;o(r,`\u{1F5D1}\uFE0F **Deleted Message** in <#${e}>
\u{1F464} **${a.author}**
\u{1F4DD} ${a.content}`)},Ae=function(n){if(!i.storage.editLoggerEnabled)return;const e=n.message?.channel_id||n.channelId,t=n.message?.id,a=D.get(t),r=i.storage.editLogChannel||e;o(r,`\u270F\uFE0F **Edited Message** in <#${e}>
\u{1F464} **${n.message?.author?.username||"Unknown"}**
\u{1F4DD} Before: ${a?.before||"[unknown]"}
\u{1F4DD} After: ${n.message?.content||"[unknown]"}`),t&&D.set(t,{before:n.message?.content||"",after:"",author:n.message?.author?.username||"",timestamp:Date.now()})},K=function(n){const e=n.message;if(!e)return;e.id&&B.set(e.id,{content:e.content,author:e.author?.username||"Unknown",timestamp:Date.now()}),e.id&&D.set(e.id,{before:e.content,after:"",author:e.author?.username||"",timestamp:Date.now()});const t=g.getCurrentUser();if(i.storage.afkEnabled&&e.mentions?.some(function(a){return a.id===t.id})&&p(e.channel_id,`\u{1F4A4} I'm AFK: ${i.storage.afkReason||"Away"}`),i.storage.autoReplyEnabled&&e.author?.id!==t.id&&e.channel_id===i.storage.autoReplyChannel&&p(e.channel_id,i.storage.autoReplyMsg||"Auto-reply."),i.storage.keywordAlerts?.length&&e.author?.id!==t.id)for(const a of i.storage.keywordAlerts)e.content?.toLowerCase().includes(a.toLowerCase())&&o(e.channel_id,`\u{1F514} **Keyword Alert:** \`${a}\` detected in <#${e.channel_id}>
> ${e.content}`)},V=function(n){const e=n.message;if(!e?.id)return;const t=D.get(e.id);t&&e.content!==t.before&&(D.set(e.id,{before:t.before,after:e.content,author:e.author?.username||"",timestamp:Date.now()}),Ae(n))},W=function(n){Ie(n)};N&&(N.subscribe("MESSAGE_CREATE",K),N.subscribe("MESSAGE_UPDATE",V),N.subscribe("MESSAGE_DELETE",W));let v=null;M.push(d.registerCommand({name:"gemini",displayName:"gemini",description:"Ask Gemini AI something",options:[{name:"prompt",displayName:"prompt",description:"Your question",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:async function(n,e){const t=s(n,"prompt"),a=i.storage.geminiKey;if(!a)return o(e.channel.id,"\u274C No API Key found. Set it in plugin settings!");try{const r=(await(await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${a}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:t}]}]})})).json()).candidates?.[0]?.content?.parts?.[0]?.text||"No response from AI.";p(e.channel.id,`**Gemini AI:**
${r}`)}catch(r){o(e.channel.id,`\u26A0\uFE0F API Error: ${r}`)}}}),d.registerCommand({name:"math",displayName:"math",description:"Solve an equation",options:[{name:"expression",displayName:"expression",description:"e.g. 2 + 2",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){try{const t=Function(`return ${s(n,"expression")}`)();o(e.channel.id,`\u{1F522} Result: **${t}**`)}catch{o(e.channel.id,"\u274C Invalid expression.")}}}),d.registerCommand({name:"serverinfo",displayName:"serverinfo",description:"Get server stats",applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=E.getGuild(e.channel.guild_id);if(!t)return o(e.channel.id,"\u274C Not in a server.");o(e.channel.id,`\u{1F3F0} **${t.name}**
\u{1F194} ID: \`${t.id}\`
\u{1F451} Owner: <@${t.ownerId}>
\u{1F30D} Region: ${t.preferredLocale}
\u{1F48E} Boost Level: ${t.premiumTier}
\u{1F4C5} Created: ${new Date(Number((BigInt(t.id)>>22n)+1420070400000n)).toDateString()}`)}}),d.registerCommand({name:"coinflip",displayName:"coinflip",description:"Heads or Tails",applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=Math.random()>.5?"Heads \u{1F985}":"Tails \u{1F535}";p(e.channel.id,`\u{1FA99} **${t}**`)}}),d.registerCommand({name:"raid",displayName:"raid",description:"Spam messages rapidly",options:[{name:"amount",displayName:"amount",description:"Times",required:!0,type:4},{name:"delay",displayName:"delay",description:"Delay (ms)",required:!0,type:4}],applicationId:"-1",inputType:1,type:1,execute:async function(n,e){const t=s(n,"amount"),a=s(n,"delay");for(let r=0;r<t;r++)await C(a),p(e.channel.id,`${ye()} ${Math.floor(Math.random()*100)}`)}}),d.registerCommand({name:"fetchprofile",displayName:"fetchprofile",description:"Fetch a user's avatar URL",options:[{name:"user",displayName:"user",description:"ID/Mention",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=s(n,"user")?.replace(/[<@!>]/g,""),a=g.getUser(t);if(!a)return o(e.channel.id,"\u274C User not found");const r=a.getAvatarURL?.({format:"png",size:512})||`https://cdn.discordapp.com/embed/avatars/${Number(a.discriminator)%5}.png`;o(e.channel.id,r)}}),d.registerCommand({name:"purge",displayName:"purge",description:"Delete messages in a channel",options:[{name:"amount",displayName:"amount",description:"Count (default 50)",required:!1,type:4},{name:"self",displayName:"self",description:"Self only?",required:!0,type:5},{name:"delay",displayName:"delay",description:"Delay (ms)",required:!1,type:4}],applicationId:"-1",inputType:1,type:1,execute:async function(n,e){const t=s(n,"amount")??50,a=s(n,"self"),r=s(n,"delay")??100;try{const{body:c}=await l.get({url:`/channels/${e.channel.id}/messages?limit=100`}),m=(a?c.filter(function(x){return x.author.id===g.getCurrentUser().id}):c).slice(0,t);let h=0;for(const x of m)await l.del({url:`/channels/${e.channel.id}/messages/${x.id}`}),h++,await C(r);o(e.channel.id,`\u{1F9F9} Purged **${h}** messages.`)}catch(c){o(e.channel.id,`\u26A0\uFE0F Error: ${c}`)}}}),d.registerCommand({name:"afk",displayName:"afk",description:"Toggle AFK mode with auto-reply to mentions",options:[{name:"reason",displayName:"reason",description:"AFK reason",required:!1,type:3},{name:"toggle",displayName:"toggle",description:"on/off",required:!1,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=s(n,"reason")||"Away",a=s(n,"toggle");a==="off"||i.storage.afkEnabled&&!a?(i.storage.afkEnabled=!1,i.storage.afkReason=null,o(e.channel.id,"\u2705 AFK mode **disabled**.")):(i.storage.afkEnabled=!0,i.storage.afkReason=t,o(e.channel.id,`\u{1F4A4} AFK mode **enabled**: ${t}`))}}),d.registerCommand({name:"autoreply",displayName:"autoreply",description:"Auto-reply to messages in this channel",options:[{name:"message",displayName:"message",description:"Reply message (empty = disable)",required:!1,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=s(n,"message");t?(i.storage.autoReplyEnabled=!0,i.storage.autoReplyMsg=t,i.storage.autoReplyChannel=e.channel.id,o(e.channel.id,`\u2705 Auto-reply **enabled**: ${t}`)):(i.storage.autoReplyEnabled=!1,i.storage.autoReplyChannel=null,o(e.channel.id,"\u274C Auto-reply **disabled**."))}}),d.registerCommand({name:"snipe",displayName:"snipe",description:"Show the last deleted message in this channel",applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=Array.from(B.entries()).filter(function([,r]){return r.timestamp>0});if(!t.length)return o(e.channel.id,"\u274C Nothing to snipe.");const[,a]=t[t.length-1];o(e.channel.id,`\u{1F3AF} **Sniped Message**
\u{1F464} **${a.author}**
\u{1F4DD} ${a.content}
\u{1F550} ${new Date(a.timestamp).toLocaleTimeString()}`)}}),d.registerCommand({name:"editsnipe",displayName:"editsnipe",description:"Show the last edited message",applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=Array.from(D.entries()).filter(function([,r]){return r.after&&r.before!==r.after});if(!t.length)return o(e.channel.id,"\u274C No edited messages cached.");const[,a]=t[t.length-1];o(e.channel.id,`\u270F\uFE0F **Edit Snipe**
\u{1F464} **${a.author}**
\u{1F4DD} Before: ${a.before}
\u{1F4DD} After: ${a.after}`)}}),d.registerCommand({name:"ghostping",displayName:"ghostping",description:"Send a ping then immediately delete it",options:[{name:"user",displayName:"user",description:"User ID or mention",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:async function(n,e){const t=`<@${s(n,"user")?.replace(/[<@!>]/g,"")}>`;await p(e.channel.id,t),await C(300);try{const{body:a}=await l.get({url:`/channels/${e.channel.id}/messages?limit=10`}),r=a.find(function(c){return c.content===t&&c.author.id===g.getCurrentUser().id});r&&await l.del({url:`/channels/${e.channel.id}/messages/${r.id}`})}catch{}}}),d.registerCommand({name:"cleardm",displayName:"cleardm",description:"Delete your own messages from a DM channel",options:[{name:"amount",displayName:"amount",description:"How many to delete",required:!1,type:4}],applicationId:"-1",inputType:1,type:1,execute:async function(n,e){const t=s(n,"amount")??20,a=g.getCurrentUser();try{const{body:r}=await l.get({url:`/channels/${e.channel.id}/messages?limit=100`}),c=r.filter(function(h){return h.author.id===a.id}).slice(0,t);let m=0;for(const h of c)await l.del({url:`/channels/${e.channel.id}/messages/${h.id}`}),m++,await C(200);o(e.channel.id,`\u{1F9F9} Cleared **${m}** DM messages.`)}catch(r){o(e.channel.id,`\u26A0\uFE0F Error: ${r}`)}}}),d.registerCommand({name:"massdelete",displayName:"massdelete",description:"Delete your own messages across all visible messages",options:[{name:"amount",displayName:"amount",description:"Amount to delete",required:!0,type:4},{name:"delay",displayName:"delay",description:"Delay ms",required:!1,type:4}],applicationId:"-1",inputType:1,type:1,execute:async function(n,e){const t=s(n,"amount"),a=s(n,"delay")??150,r=g.getCurrentUser();try{const{body:c}=await l.get({url:`/channels/${e.channel.id}/messages?limit=100`}),m=c.filter(function(x){return x.author.id===r.id}).slice(0,t);let h=0;for(const x of m)await l.del({url:`/channels/${e.channel.id}/messages/${x.id}`}),h++,await C(a);o(e.channel.id,`\u{1F5D1}\uFE0F Mass deleted **${h}** messages.`)}catch(c){o(e.channel.id,`\u26A0\uFE0F Error: ${c}`)}}}),d.registerCommand({name:"autoreact",displayName:"autoreact",description:"React to the last N messages with an emoji",options:[{name:"emoji",displayName:"emoji",description:"Emoji to react with",required:!0,type:3},{name:"count",displayName:"count",description:"Number of messages (default 5)",required:!1,type:4}],applicationId:"-1",inputType:1,type:1,execute:async function(n,e){const t=s(n,"emoji"),a=s(n,"count")??5;try{const{body:r}=await l.get({url:`/channels/${e.channel.id}/messages?limit=${a}`});for(const c of r){const m=encodeURIComponent(t);await l.put({url:`/channels/${e.channel.id}/messages/${c.id}/reactions/${m}/@me`}),await C(300)}o(e.channel.id,`\u2705 Reacted with ${t} on **${r.length}** messages.`)}catch(r){o(e.channel.id,`\u26A0\uFE0F Error: ${r}`)}}}),d.registerCommand({name:"autotype",displayName:"autotype",description:"Start or stop typing indicator in this channel",options:[{name:"duration",displayName:"duration",description:"Duration in seconds (0 = stop)",required:!0,type:4}],applicationId:"-1",inputType:1,type:1,execute:async function(n,e){const t=s(n,"duration");if(!t)return o(e.channel.id,"\u23F9\uFE0F Typing stopped.");const a=Date.now()+t*1e3;for(o(e.channel.id,`\u2328\uFE0F Typing for **${t}** seconds...`);Date.now()<a;)await l.post({url:`/channels/${e.channel.id}/typing`,body:{}}),await C(8e3)}}),d.registerCommand({name:"emojispam",displayName:"emojispam",description:"Spam an emoji repeatedly",options:[{name:"emoji",displayName:"emoji",description:"Emoji to spam",required:!0,type:3},{name:"amount",displayName:"amount",description:"Repetitions",required:!0,type:4},{name:"delay",displayName:"delay",description:"Delay ms",required:!1,type:4}],applicationId:"-1",inputType:1,type:1,execute:async function(n,e){const t=s(n,"emoji"),a=Math.min(s(n,"amount")??5,50),r=s(n,"delay")??500;for(let c=0;c<a;c++)await C(r),await p(e.channel.id,t.repeat(10))}}),d.registerCommand({name:"textspam",displayName:"textspam",description:"Spam custom text repeatedly",options:[{name:"text",displayName:"text",description:"Text to spam",required:!0,type:3},{name:"amount",displayName:"amount",description:"Times",required:!0,type:4},{name:"delay",displayName:"delay",description:"Delay ms",required:!1,type:4}],applicationId:"-1",inputType:1,type:1,execute:async function(n,e){const t=s(n,"text"),a=Math.min(s(n,"amount")??5,50),r=s(n,"delay")??500;for(let c=0;c<a;c++)await C(r),await p(e.channel.id,t)}}),d.registerCommand({name:"archivechat",displayName:"archivechat",description:"Archive recent chat messages as text in DMs",options:[{name:"amount",displayName:"amount",description:"Number of messages to archive",required:!1,type:4}],applicationId:"-1",inputType:1,type:1,execute:async function(n,e){const t=s(n,"amount")??50;try{const{body:a}=await l.get({url:`/channels/${e.channel.id}/messages?limit=${Math.min(t,100)}`}),r=a.reverse().map(function(h){return`[${new Date(h.timestamp).toLocaleString()}] ${h.author.username}: ${h.content}`}).join(`
`),c=g.getCurrentUser(),{body:m}=await l.post({url:"/users/@me/channels",body:{recipient_id:c.id}});await p(m.id,`\u{1F4C2} **Chat Archive** (${a.length} messages):
\`\`\`
${r.slice(0,1800)}
\`\`\``),o(e.channel.id,`\u2705 Archive of **${a.length}** messages sent to your DMs.`)}catch(a){o(e.channel.id,`\u26A0\uFE0F Error: ${a}`)}}}),d.registerCommand({name:"savemessage",displayName:"savemessage",description:"Save a message by ID to your notes",options:[{name:"id",displayName:"id",description:"Message ID",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:async function(n,e){const t=s(n,"id");try{const{body:a}=await l.get({url:`/channels/${e.channel.id}/messages/${t}`});i.storage.notes||(i.storage.notes=[]),i.storage.notes.push(`[Saved from ${a.author.username}]: ${a.content}`),o(e.channel.id,`\u{1F4BE} Message saved to notes: **${a.content.slice(0,80)}**`)}catch(a){o(e.channel.id,`\u26A0\uFE0F Error: ${a}`)}}}),d.registerCommand({name:"remind",displayName:"remind",description:"Set a reminder",options:[{name:"time",displayName:"time",description:"Time in seconds",required:!0,type:4},{name:"task",displayName:"task",description:"What to remind about",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=s(n,"time"),a=s(n,"task");o(e.channel.id,`\u23F0 Reminder set for **${t}** seconds: ${a}`),setTimeout(function(){o(e.channel.id,`\u{1F514} **REMINDER:** ${a}`)},t*1e3)}}),d.registerCommand({name:"timer",displayName:"timer",description:"Start a countdown timer",options:[{name:"seconds",displayName:"seconds",description:"Time in seconds",required:!0,type:4}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=s(n,"seconds");o(e.channel.id,`\u23F1\uFE0F Timer started: **${t}** seconds`),setTimeout(function(){return o(e.channel.id,`\u2705 **Timer done!** (${t}s)`)},t*1e3)}}),d.registerCommand({name:"notesadd",displayName:"notesadd",description:"Add a note",options:[{name:"note",displayName:"note",description:"Note content",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){i.storage.notes||(i.storage.notes=[]),i.storage.notes.push(s(n,"note")),o(e.channel.id,`\u{1F4DD} Note added (#${i.storage.notes.length}).`)}}),d.registerCommand({name:"noteslist",displayName:"noteslist",description:"List all saved notes",applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=i.storage.notes||[];if(!t.length)return o(e.channel.id,"\u{1F4DD} No notes saved.");o(e.channel.id,`\u{1F4DD} **Notes:**
${t.map(function(a,r){return`${r+1}. ${a}`}).join(`
`)}`)}}),d.registerCommand({name:"notesdelete",displayName:"notesdelete",description:"Delete a note by index",options:[{name:"index",displayName:"index",description:"Note number",required:!0,type:4}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=s(n,"index")-1;if(!i.storage.notes?.[t])return o(e.channel.id,"\u274C Note not found.");i.storage.notes.splice(t,1),o(e.channel.id,`\u{1F5D1}\uFE0F Note **#${t+1}** deleted.`)}}),d.registerCommand({name:"tagadd",displayName:"tagadd",description:"Add a tag (saved message template)",options:[{name:"name",displayName:"name",description:"Tag name",required:!0,type:3},{name:"content",displayName:"content",description:"Tag content",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=s(n,"name"),a=s(n,"content");i.storage.tags||(i.storage.tags={}),i.storage.tags[t]=a,o(e.channel.id,`\u{1F3F7}\uFE0F Tag **${t}** saved.`)}}),d.registerCommand({name:"tagsend",displayName:"tagsend",description:"Send a saved tag",options:[{name:"name",displayName:"name",description:"Tag name",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=s(n,"name"),a=i.storage.tags?.[t];if(!a)return o(e.channel.id,`\u274C Tag **${t}** not found.`);p(e.channel.id,a)}}),d.registerCommand({name:"taglist",displayName:"taglist",description:"List all saved tags",applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=Object.keys(i.storage.tags||{});if(!t.length)return o(e.channel.id,"\u274C No tags saved.");o(e.channel.id,`\u{1F3F7}\uFE0F **Tags:** ${t.join(", ")}`)}}),d.registerCommand({name:"quickcalc",displayName:"quickcalc",description:"Quickly calculate an expression",options:[{name:"expr",displayName:"expr",description:"Expression",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){try{const t=Function(`return ${s(n,"expr")}`)();o(e.channel.id,`\u{1F9EE} \`${s(n,"expr")}\` = **${t}**`)}catch{o(e.channel.id,"\u274C Invalid expression.")}}}),d.registerCommand({name:"quicksearch",displayName:"quicksearch",description:"Get a Google search link",options:[{name:"query",displayName:"query",description:"Search query",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=encodeURIComponent(s(n,"query"));p(e.channel.id,`\u{1F50D} https://www.google.com/search?q=${t}`)}}),d.registerCommand({name:"weather",displayName:"weather",description:"Get weather for a city",options:[{name:"city",displayName:"city",description:"City name",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:async function(n,e){const t=s(n,"city");try{const a=await(await fetch(`https://wttr.in/${encodeURIComponent(t)}?format=3`)).text();o(e.channel.id,`\u{1F324}\uFE0F **Weather:** ${a.trim()}`)}catch(a){o(e.channel.id,`\u26A0\uFE0F Error fetching weather: ${a}`)}}}),d.registerCommand({name:"time",displayName:"time",description:"Show current time",applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=new Date;o(e.channel.id,`\u{1F550} **Current Time:** ${t.toLocaleString()} (UTC${-t.getTimezoneOffset()/60>=0?"+":""}${-t.getTimezoneOffset()/60})`)}}),d.registerCommand({name:"uptime",displayName:"uptime",description:"Show how long the plugin has been running",applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=Date.now()-me,a=Math.floor(t/36e5),r=Math.floor(t%36e5/6e4),c=Math.floor(t%6e4/1e3);o(e.channel.id,`\u23F1\uFE0F **Plugin Uptime:** ${a}h ${r}m ${c}s`)}}),d.registerCommand({name:"avatar",displayName:"avatar",description:"Get a user's avatar",options:[{name:"user",displayName:"user",description:"User ID or mention",required:!1,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=s(n,"user"),a=t?t.replace(/[<@!>]/g,""):g.getCurrentUser().id,r=g.getUser(a);if(!r)return o(e.channel.id,"\u274C User not found.");const c=r.getAvatarURL?.({format:"png",size:1024})||`https://cdn.discordapp.com/embed/avatars/${Number(r.discriminator)%5}.png`;o(e.channel.id,`\u{1F5BC}\uFE0F **${r.username}'s Avatar:**
${c}`)}}),d.registerCommand({name:"banner",displayName:"banner",description:"Get a user's profile banner",options:[{name:"user",displayName:"user",description:"User ID or mention",required:!1,type:3}],applicationId:"-1",inputType:1,type:1,execute:async function(n,e){const t=s(n,"user"),a=t?t.replace(/[<@!>]/g,""):g.getCurrentUser().id;try{const{body:r}=await l.get({url:`/users/${a}`});if(!r.banner)return o(e.channel.id,"\u274C This user has no banner.");const c=r.banner.startsWith("a_")?"gif":"png",m=`https://cdn.discordapp.com/banners/${a}/${r.banner}.${c}?size=1024`;o(e.channel.id,`\u{1F3A8} **Banner:**
${m}`)}catch(r){o(e.channel.id,`\u26A0\uFE0F Error: ${r}`)}}}),d.registerCommand({name:"userinfo",displayName:"userinfo",description:"Get info about a user",options:[{name:"user",displayName:"user",description:"User ID or mention",required:!1,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=s(n,"user"),a=t?t.replace(/[<@!>]/g,""):g.getCurrentUser().id,r=g.getUser(a);if(!r)return o(e.channel.id,"\u274C User not found.");const c=new Date(Number((BigInt(r.id)>>22n)+1420070400000n));o(e.channel.id,`\u{1F464} **${r.username}#${r.discriminator}**
\u{1F194} \`${r.id}\`
\u{1F916} Bot: ${r.bot?"Yes":"No"}
\u{1F4C5} Created: ${c.toDateString()}`)}}),d.registerCommand({name:"userlookup",displayName:"userlookup",description:"Look up a user by ID via API",options:[{name:"id",displayName:"id",description:"User ID",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:async function(n,e){const t=s(n,"id");try{const{body:a}=await l.get({url:`/users/${t}`}),r=new Date(Number((BigInt(a.id)>>22n)+1420070400000n));o(e.channel.id,`\u{1F50D} **${a.username}#${a.discriminator}**
\u{1F194} \`${a.id}\`
\u{1F916} Bot: ${a.bot?"Yes":"No"}
\u{1F4C5} Created: ${r.toDateString()}`)}catch(a){o(e.channel.id,`\u26A0\uFE0F Error: ${a}`)}}}),d.registerCommand({name:"idlookup",displayName:"idlookup",description:"Show info encoded in a Discord snowflake ID",options:[{name:"id",displayName:"id",description:"Snowflake ID",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=s(n,"id");try{const a=Number((BigInt(t)>>22n)+1420070400000n),r=new Date(a);o(e.channel.id,`\u{1F522} **Snowflake:** \`${t}\`
\u{1F4C5} Created: ${r.toUTCString()}
\u23F1\uFE0F Timestamp: ${a}`)}catch{o(e.channel.id,"\u274C Invalid ID.")}}}),d.registerCommand({name:"rolelist",displayName:"rolelist",description:"List all roles in the server",applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=E.getGuild(e.channel.guild_id);if(!t)return o(e.channel.id,"\u274C Not in a server.");const a=Object.values(t.roles||{}),r=a.map(function(c){return`\u2022 **${c.name}** (\`${c.id}\`)`}).join(`
`).slice(0,1800);o(e.channel.id,`\u{1F3AD} **Roles (${a.length}):**
${r}`)}}),d.registerCommand({name:"channellist",displayName:"channellist",description:"List all channels in the server",applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=E.getGuild(e.channel.guild_id);if(!t)return o(e.channel.id,"\u274C Not in a server.");const a=Object.values(E.getGuildChannels?E.getGuildChannels(t.id):{}).map(function(r){return`\u2022 #${r.name} (\`${r.id}\`)`}).join(`
`).slice(0,1800);o(e.channel.id,`\u{1F4E2} **Channels:**
${a||"Unable to fetch channels."}`)}}),d.registerCommand({name:"serverlist",displayName:"serverlist",description:"List all servers you are in",applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=Object.values(E.getGuilds()),a=t.map(function(r){return`\u2022 **${r.name}** (\`${r.id}\`)`}).join(`
`).slice(0,1800);o(e.channel.id,`\u{1F310} **Servers (${t.length}):**
${a}`)}}),d.registerCommand({name:"keywordalert",displayName:"keywordalert",description:"Add or remove a keyword alert",options:[{name:"action",displayName:"action",description:"add/remove/list",required:!0,type:3},{name:"keyword",displayName:"keyword",description:"Keyword",required:!1,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=s(n,"action"),a=s(n,"keyword");i.storage.keywordAlerts||(i.storage.keywordAlerts=[]),t==="add"&&a?(i.storage.keywordAlerts.push(a),o(e.channel.id,`\u{1F514} Keyword alert added: **${a}**`)):t==="remove"&&a?(i.storage.keywordAlerts=i.storage.keywordAlerts.filter(function(r){return r!==a}),o(e.channel.id,`\u{1F515} Keyword alert removed: **${a}**`)):t==="list"&&o(e.channel.id,`\u{1F514} **Keyword Alerts:** ${i.storage.keywordAlerts.join(", ")||"None"}`)}}),d.registerCommand({name:"deletedlogger",displayName:"deletedlogger",description:"Toggle deleted message logger",options:[{name:"channel",displayName:"channel",description:"Log channel ID (current if blank)",required:!1,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){i.storage.deletedLoggerEnabled=!i.storage.deletedLoggerEnabled,i.storage.deletedLogChannel=s(n,"channel")||e.channel.id,o(e.channel.id,`\u{1F5D1}\uFE0F Deleted message logger **${i.storage.deletedLoggerEnabled?"enabled":"disabled"}** \u2192 <#${i.storage.deletedLogChannel}>`)}}),d.registerCommand({name:"editlogger",displayName:"editlogger",description:"Toggle edited message logger",options:[{name:"channel",displayName:"channel",description:"Log channel ID (current if blank)",required:!1,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){i.storage.editLoggerEnabled=!i.storage.editLoggerEnabled,i.storage.editLogChannel=s(n,"channel")||e.channel.id,o(e.channel.id,`\u270F\uFE0F Edit message logger **${i.storage.editLoggerEnabled?"enabled":"disabled"}** \u2192 <#${i.storage.editLogChannel}>`)}}),d.registerCommand({name:"quotesave",displayName:"quotesave",description:"Save a quote by message ID",options:[{name:"id",displayName:"id",description:"Message ID",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:async function(n,e){const t=s(n,"id");try{const{body:a}=await l.get({url:`/channels/${e.channel.id}/messages/${t}`});i.storage.savedQuotes||(i.storage.savedQuotes=[]),i.storage.savedQuotes.push({content:a.content,author:a.author.username,timestamp:a.timestamp}),o(e.channel.id,`\u{1F4AC} Quote saved from **${a.author.username}**.`)}catch(a){o(e.channel.id,`\u26A0\uFE0F Error: ${a}`)}}}),d.registerCommand({name:"quoterandom",displayName:"quoterandom",description:"Show a random saved quote",applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=i.storage.savedQuotes||[];if(!t.length)return o(e.channel.id,"\u274C No quotes saved.");const a=t[Math.floor(Math.random()*t.length)];o(e.channel.id,`\u{1F4AC} *"${a.content}"*
\u2014 **${a.author}**`)}}),d.registerCommand({name:"macroadd",displayName:"macroadd",description:"Add a macro (name \u2192 message)",options:[{name:"name",displayName:"name",description:"Macro name",required:!0,type:3},{name:"content",displayName:"content",description:"Macro content",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=s(n,"name"),a=s(n,"content");i.storage.macros||(i.storage.macros={}),i.storage.macros[t]=a,o(e.channel.id,`\u26A1 Macro **${t}** saved.`)}}),d.registerCommand({name:"macrorun",displayName:"macrorun",description:"Run a saved macro",options:[{name:"name",displayName:"name",description:"Macro name",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=s(n,"name"),a=i.storage.macros?.[t];if(!a)return o(e.channel.id,`\u274C Macro **${t}** not found.`);p(e.channel.id,a)}}),d.registerCommand({name:"macrolist",displayName:"macrolist",description:"List all saved macros",applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=Object.keys(i.storage.macros||{});if(!t.length)return o(e.channel.id,"\u274C No macros saved.");o(e.channel.id,`\u26A1 **Macros:** ${t.join(", ")}`)}}),d.registerCommand({name:"aliasadd",displayName:"aliasadd",description:"Add an alias for a command",options:[{name:"alias",displayName:"alias",description:"Alias name",required:!0,type:3},{name:"command",displayName:"command",description:"Command to run",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=s(n,"alias"),a=s(n,"command");i.storage.aliases||(i.storage.aliases={}),i.storage.aliases[t]=a,o(e.channel.id,`\u{1F517} Alias **${t}** \u2192 **${a}** added.`)}}),d.registerCommand({name:"aliasremove",displayName:"aliasremove",description:"Remove a saved alias",options:[{name:"alias",displayName:"alias",description:"Alias to remove",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=s(n,"alias");if(!i.storage.aliases?.[t])return o(e.channel.id,`\u274C Alias **${t}** not found.`);delete i.storage.aliases[t],o(e.channel.id,`\u{1F5D1}\uFE0F Alias **${t}** removed.`)}}),d.registerCommand({name:"aliaslist",displayName:"aliaslist",description:"List all saved aliases",applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=Object.entries(i.storage.aliases||{});if(!t.length)return o(e.channel.id,"\u274C No aliases saved.");o(e.channel.id,`\u{1F517} **Aliases:**
${t.map(function([a,r]){return`\u2022 **${a}** \u2192 ${r}`}).join(`
`)}`)}}),d.registerCommand({name:"repeat",displayName:"repeat",description:"Repeat a message N times",options:[{name:"message",displayName:"message",description:"Message to send",required:!0,type:3},{name:"times",displayName:"times",description:"Repetitions",required:!0,type:4},{name:"delay",displayName:"delay",description:"Delay ms",required:!1,type:4}],applicationId:"-1",inputType:1,type:1,execute:async function(n,e){const t=s(n,"message"),a=Math.min(s(n,"times"),50),r=s(n,"delay")??500;for(let c=0;c<a;c++)await C(r),p(e.channel.id,t)}}),d.registerCommand({name:"countdown",displayName:"countdown",description:"Post a visible countdown",options:[{name:"from",displayName:"from",description:"Count from (max 10)",required:!0,type:4}],applicationId:"-1",inputType:1,type:1,execute:async function(n,e){const t=Math.min(s(n,"from"),10);for(let a=t;a>=0;a--)o(e.channel.id,a===0?"\u{1F680} **GO!**":`\u23F3 **${a}**`),await C(1e3)}}),d.registerCommand({name:"stopwatch",displayName:"stopwatch",description:"Start or stop a stopwatch",options:[{name:"action",displayName:"action",description:"start/stop",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=s(n,"action");if(t==="start")v=Date.now(),o(e.channel.id,"\u23F1\uFE0F Stopwatch **started**.");else if(t==="stop"){if(!v)return o(e.channel.id,"\u274C Stopwatch not running.");const a=Date.now()-v;v=null;const r=(a/1e3).toFixed(2);o(e.channel.id,`\u{1F3C1} Stopwatch **stopped**: **${r}** seconds`)}else o(e.channel.id,"\u274C Use start or stop.")}}),d.registerCommand({name:"pollquick",displayName:"pollquick",description:"Create a quick poll",options:[{name:"question",displayName:"question",description:"Poll question",required:!0,type:3},{name:"options",displayName:"options",description:"Options (comma separated)",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=s(n,"question"),a=s(n,"options").split(",").map(function(r,c){return`${["\u{1F1E6}","\u{1F1E7}","\u{1F1E8}","\u{1F1E9}","\u{1F1EA}"][c]||String(c+1)}\uFE0F ${r.trim()}`});p(e.channel.id,`\u{1F4CA} **${t}**
${a.join(`
`)}`)}}),d.registerCommand({name:"dice",displayName:"dice",description:"Roll a die",options:[{name:"sides",displayName:"sides",description:"Number of sides (default 6)",required:!1,type:4}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=s(n,"sides")??6,a=Math.floor(Math.random()*t)+1;p(e.channel.id,`\u{1F3B2} Rolled a d${t}: **${a}**`)}}),d.registerCommand({name:"randomnumber",displayName:"randomnumber",description:"Generate a random number",options:[{name:"min",displayName:"min",description:"Minimum",required:!1,type:4},{name:"max",displayName:"max",description:"Maximum",required:!1,type:4}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=s(n,"min")??1,a=s(n,"max")??100,r=Math.floor(Math.random()*(a-t+1))+t;p(e.channel.id,`\u{1F3B0} Random number (${t}\u2013${a}): **${r}**`)}}),d.registerCommand({name:"choose",displayName:"choose",description:"Randomly choose from options",options:[{name:"options",displayName:"options",description:"Comma-separated options",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=s(n,"options").split(",").map(function(r){return r.trim()}),a=t[Math.floor(Math.random()*t.length)];p(e.channel.id,`\u{1F3AF} I choose: **${a}**`)}}),d.registerCommand({name:"passwordgen",displayName:"passwordgen",description:"Generate a secure password",options:[{name:"length",displayName:"length",description:"Password length (default 16)",required:!1,type:4}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=s(n,"length")??16;o(e.channel.id,`\u{1F511} **Password:** \`${Te(t)}\``)}}),d.registerCommand({name:"colorgen",displayName:"colorgen",description:"Generate a random hex color",applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=`#${Math.floor(Math.random()*16777215).toString(16).padStart(6,"0")}`;o(e.channel.id,`\u{1F3A8} Random color: **${t}** \u2014 https://www.color-hex.com/color/${t.slice(1)}`)}}),d.registerCommand({name:"textreverse",displayName:"textreverse",description:"Reverse text",options:[{name:"text",displayName:"text",description:"Text to reverse",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=s(n,"text");p(e.channel.id,t.split("").reverse().join(""))}}),d.registerCommand({name:"textzalgo",displayName:"textzalgo",description:"Convert text to zalgo",options:[{name:"text",displayName:"text",description:"Text to zalgo-ify",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){p(e.channel.id,ge(s(n,"text")))}}),d.registerCommand({name:"textfancy",displayName:"textfancy",description:"Convert text to fancy cursive",options:[{name:"text",displayName:"text",description:"Text to make fancy",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){p(e.channel.id,fe(s(n,"text")))}}),d.registerCommand({name:"textascii",displayName:"textascii",description:"Convert text to ASCII art",options:[{name:"text",displayName:"text",description:"Text to render",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){p(e.channel.id,ve(s(n,"text")))}}),d.registerCommand({name:"hash",displayName:"hash",description:"Hash text with a simple hash function",options:[{name:"text",displayName:"text",description:"Text to hash",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=be(s(n,"text"));o(e.channel.id,`#\uFE0F\u20E3 **Hash:** \`${t.toString(16).padStart(8,"0")}\` (${t})`)}}),d.registerCommand({name:"base64encode",displayName:"base64encode",description:"Encode text to Base64",options:[{name:"text",displayName:"text",description:"Text to encode",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){o(e.channel.id,`\u{1F512} **Base64:** \`${Ee(s(n,"text"))}\``)}}),d.registerCommand({name:"base64decode",displayName:"base64decode",description:"Decode Base64 to text",options:[{name:"text",displayName:"text",description:"Base64 to decode",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){try{o(e.channel.id,`\u{1F513} **Decoded:** ${De(s(n,"text"))}`)}catch{o(e.channel.id,"\u274C Invalid Base64.")}}}),d.registerCommand({name:"ping",displayName:"ping",description:"Check plugin latency",applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=Date.now();o(e.channel.id,`\u{1F3D3} Pong! Latency: **${Date.now()-t}ms**`)}}),d.registerCommand({name:"help",displayName:"help",description:"List all available commands",applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=["gemini, math, serverinfo, coinflip, raid, fetchprofile, purge","afk, autoreply, snipe, editsnipe, ghostping, cleardm, massdelete","autoreact, autotype, emojispam, textspam, archivechat, savemessage","remind, timer, notesadd, noteslist, notesdelete","tagadd, tagsend, taglist, quickcalc, quicksearch, weather, time, uptime","avatar, banner, userinfo, userlookup, idlookup, rolelist, channellist, serverlist","keywordalert, deletedlogger, editlogger, quotesave, quoterandom","macroadd, macrorun, macrolist, aliasadd, aliasremove, aliaslist","repeat, countdown, stopwatch, pollquick, dice, randomnumber, choose","passwordgen, colorgen, textreverse, textzalgo, textfancy, textascii, hash","base64encode, base64decode, ping, help, mock, clap, vapor, regional","spoiler, l33t, tiny, shrug, tableflip, unflip, lenny, 8ball, rps","todoadd, todolist, evaluate, worldtime, binary, hex, urban, selfdestruct","nick, slowmode, kick, ban, cat, dog, mcskin, mcstatus, status, blocklist"];o(e.channel.id,`\u{1F4CB} **Commands:**
${t.join(`
`)}`)}}),d.registerCommand({name:"mock",displayName:"mock",description:"mOcK sOmEoNe'S tExT",options:[{name:"text",displayName:"text",description:"Text to mock",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){p(e.channel.id,he(s(n,"text")))}}),d.registerCommand({name:"clap",displayName:"clap",description:"Add \u{1F44F} between every word",options:[{name:"text",displayName:"text",description:"Text",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){p(e.channel.id,s(n,"text").split(" ").join(" \u{1F44F} "))}}),d.registerCommand({name:"vapor",displayName:"vapor",description:"s p a c e d  o u t  t e x t",options:[{name:"text",displayName:"text",description:"Text to vaporwave",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){p(e.channel.id,Ne(s(n,"text")))}}),d.registerCommand({name:"regional",displayName:"regional",description:"\u{1F1E8} \u{1F1F4} \u{1F1F3} \u{1F1FB} \u{1F1EA} \u{1F1F7} \u{1F1F9} text to regional emoji",options:[{name:"text",displayName:"text",description:"Text",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){p(e.channel.id,xe(s(n,"text")))}}),d.registerCommand({name:"spoiler",displayName:"spoiler",description:"Wrap every character in spoiler tags",options:[{name:"text",displayName:"text",description:"Text to spoiler",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){p(e.channel.id,s(n,"text").split("").map(function(t){return`||${t}||`}).join(""))}}),d.registerCommand({name:"l33t",displayName:"l33t",description:"3nC0d3 73x7 1n l33tsp34k",options:[{name:"text",displayName:"text",description:"Text to l33t",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){p(e.channel.id,Ce(s(n,"text")))}}),d.registerCommand({name:"tiny",displayName:"tiny",description:"\u1D57\u2071\u207F\u02B8 \u02E2\u1D58\u1D56\u1D49\u02B3\u02E2\u1D9C\u02B3\u2071\u1D56\u1D57 text",options:[{name:"text",displayName:"text",description:"Text to make tiny",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){p(e.channel.id,Fe(s(n,"text")))}}),d.registerCommand({name:"shrug",displayName:"shrug",description:"\xAF\\_(\u30C4)_/\xAF",applicationId:"-1",inputType:1,type:1,execute:function(n,e){p(e.channel.id,"\xAF\\_(\u30C4)_/\xAF")}}),d.registerCommand({name:"tableflip",displayName:"tableflip",description:"(\u256F\xB0\u25A1\xB0\uFF09\u256F\uFE35 \u253B\u2501\u253B",applicationId:"-1",inputType:1,type:1,execute:function(n,e){p(e.channel.id,"(\u256F\xB0\u25A1\xB0\uFF09\u256F\uFE35 \u253B\u2501\u253B")}}),d.registerCommand({name:"unflip",displayName:"unflip",description:"\u252C\u2500\u252C\u30CE( \xBA _ \xBA\u30CE)",applicationId:"-1",inputType:1,type:1,execute:function(n,e){p(e.channel.id,"\u252C\u2500\u252C\u30CE( \xBA _ \xBA\u30CE)")}}),d.registerCommand({name:"lenny",displayName:"lenny",description:"( \u0361\xB0 \u035C\u0296 \u0361\xB0)",applicationId:"-1",inputType:1,type:1,execute:function(n,e){p(e.channel.id,"( \u0361\xB0 \u035C\u0296 \u0361\xB0)")}}),d.registerCommand({name:"8ball",displayName:"8ball",description:"Ask the magic 8-ball",options:[{name:"question",displayName:"question",description:"Your question",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=O[Math.floor(Math.random()*O.length)];p(e.channel.id,`\u{1F3B1} *${s(n,"question")}*
> ${t}`)}}),d.registerCommand({name:"rps",displayName:"rps",description:"Play Rock Paper Scissors",options:[{name:"choice",displayName:"choice",description:"rock/paper/scissors",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=["rock","paper","scissors"],a={rock:"\u{1FAA8}",paper:"\u{1F4C4}",scissors:"\u2702\uFE0F"},r=s(n,"choice").toLowerCase();if(!t.includes(r))return o(e.channel.id,"\u274C Choose rock, paper, or scissors.");const c=t[Math.floor(Math.random()*3)],m=r===c?"It's a tie!":{rock:"scissors",paper:"rock",scissors:"paper"}[r]===c?"You win! \u{1F389}":"You lose! \u{1F614}";p(e.channel.id,`You: ${a[r]} vs Me: ${a[c]} \u2014 **${m}**`)}}),d.registerCommand({name:"todoadd",displayName:"todoadd",description:"Add a todo item",options:[{name:"task",displayName:"task",description:"Task to add",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){i.storage.todos||(i.storage.todos=[]),i.storage.todos.push({task:s(n,"task"),done:!1}),o(e.channel.id,`\u2705 Todo #${i.storage.todos.length} added.`)}}),d.registerCommand({name:"todolist",displayName:"todolist",description:"List all todo items",applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=i.storage.todos||[];if(!t.length)return o(e.channel.id,"\u{1F4CB} No todos.");const a=t.map(function(r,c){return`${r.done?"\u2705":"\u2B1C"} ${c+1}. ${r.task}`}).join(`
`);o(e.channel.id,`\u{1F4CB} **Todos:**
${a}`)}}),d.registerCommand({name:"evaluate",displayName:"evaluate",description:"Evaluate a JavaScript expression",options:[{name:"code",displayName:"code",description:"JS code to evaluate",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){try{const t=Function(`"use strict"; return (${s(n,"code")})`)();o(e.channel.id,`\u2705 \`\`\`js
${JSON.stringify(t,null,2)?.slice(0,1500)}\`\`\``)}catch(t){o(e.channel.id,`\u274C Error: ${t}`)}}}),d.registerCommand({name:"worldtime",displayName:"worldtime",description:"Show current time in a timezone",options:[{name:"timezone",displayName:"timezone",description:"e.g. America/New_York",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){try{const t=s(n,"timezone"),a=new Date().toLocaleString("en-US",{timeZone:t,dateStyle:"full",timeStyle:"long"});o(e.channel.id,`\u{1F30D} **${t}:** ${a}`)}catch{o(e.channel.id,"\u274C Invalid timezone. Try e.g. America/New_York")}}}),d.registerCommand({name:"binary",displayName:"binary",description:"Convert text to binary",options:[{name:"text",displayName:"text",description:"Text to convert",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){o(e.channel.id,`01 **Binary:** \`${$e(s(n,"text")).slice(0,1800)}\``)}}),d.registerCommand({name:"hex",displayName:"hex",description:"Convert text to hexadecimal",options:[{name:"text",displayName:"text",description:"Text to convert",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){o(e.channel.id,`\u{1F522} **Hex:** \`${we(s(n,"text"))}\``)}}),d.registerCommand({name:"urban",displayName:"urban",description:"Look up a word on Urban Dictionary",options:[{name:"word",displayName:"word",description:"Word to define",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:async function(n,e){const t=s(n,"word");try{const a=(await(await fetch(`https://api.urbandictionary.com/v0/define?term=${encodeURIComponent(t)}`)).json()).list?.[0];if(!a)return o(e.channel.id,`\u274C No definition found for **${t}**.`);o(e.channel.id,`\u{1F4D6} **${a.word}**
${a.definition.slice(0,800)}

*Example: ${a.example?.slice(0,300)||"N/A"}*`)}catch(a){o(e.channel.id,`\u26A0\uFE0F Error: ${a}`)}}}),d.registerCommand({name:"selfdestruct",displayName:"selfdestruct",description:"Send a message that auto-deletes after X seconds",options:[{name:"message",displayName:"message",description:"Message to send",required:!0,type:3},{name:"delay",displayName:"delay",description:"Delete after (seconds)",required:!0,type:4}],applicationId:"-1",inputType:1,type:1,execute:async function(n,e){const t=s(n,"message"),a=s(n,"delay");await p(e.channel.id,`\u{1F4A3} *[self-destruct in ${a}s]* ${t}`),await C(a*1e3);try{const{body:r}=await l.get({url:`/channels/${e.channel.id}/messages?limit=10`}),c=r.find(function(m){return m.content.includes(t)&&m.author.id===g.getCurrentUser().id});c&&await l.del({url:`/channels/${e.channel.id}/messages/${c.id}`})}catch{}}}),d.registerCommand({name:"nick",displayName:"nick",description:"Change your nickname in this server",options:[{name:"name",displayName:"name",description:"New nickname (blank to reset)",required:!1,type:3}],applicationId:"-1",inputType:1,type:1,execute:async function(n,e){const t=s(n,"name")||null;g.getCurrentUser();try{await l.patch({url:`/guilds/${e.channel.guild_id}/members/@me`,body:{nick:t}}),o(e.channel.id,`\u2705 Nickname ${t?`changed to **${t}**`:"**reset**"}.`)}catch(a){o(e.channel.id,`\u26A0\uFE0F Error: ${a}`)}}}),d.registerCommand({name:"slowmode",displayName:"slowmode",description:"Set channel slowmode",options:[{name:"seconds",displayName:"seconds",description:"Slowmode delay in seconds (0 = off)",required:!0,type:4}],applicationId:"-1",inputType:1,type:1,execute:async function(n,e){const t=s(n,"seconds");try{await l.patch({url:`/channels/${e.channel.id}`,body:{rate_limit_per_user:t}}),o(e.channel.id,`\u{1F40C} Slowmode set to **${t}** seconds.`)}catch(a){o(e.channel.id,`\u26A0\uFE0F Error: ${a}`)}}}),d.registerCommand({name:"kick",displayName:"kick",description:"Kick a member from the server",options:[{name:"user",displayName:"user",description:"User ID or mention",required:!0,type:3},{name:"reason",displayName:"reason",description:"Reason",required:!1,type:3}],applicationId:"-1",inputType:1,type:1,execute:async function(n,e){const t=s(n,"user")?.replace(/[<@!>]/g,""),a=s(n,"reason")||"No reason provided";try{await l.del({url:`/guilds/${e.channel.guild_id}/members/${t}`,body:{reason:a}}),o(e.channel.id,`\u{1F462} Kicked <@${t}>. Reason: ${a}`)}catch(r){o(e.channel.id,`\u26A0\uFE0F Error: ${r}`)}}}),d.registerCommand({name:"ban",displayName:"ban",description:"Ban a member from the server",options:[{name:"user",displayName:"user",description:"User ID or mention",required:!0,type:3},{name:"reason",displayName:"reason",description:"Reason",required:!1,type:3},{name:"days",displayName:"days",description:"Days of messages to delete (0-7)",required:!1,type:4}],applicationId:"-1",inputType:1,type:1,execute:async function(n,e){const t=s(n,"user")?.replace(/[<@!>]/g,""),a=s(n,"reason")||"No reason provided",r=s(n,"days")??0;try{await l.put({url:`/guilds/${e.channel.guild_id}/bans/${t}`,body:{delete_message_days:r,reason:a}}),o(e.channel.id,`\u{1F528} Banned <@${t}>. Reason: ${a}`)}catch(c){o(e.channel.id,`\u26A0\uFE0F Error: ${c}`)}}}),d.registerCommand({name:"cat",displayName:"cat",description:"Random cat image",applicationId:"-1",inputType:1,type:1,execute:async function(n,e){try{const t=await(await fetch("https://api.thecatapi.com/v1/images/search")).json();p(e.channel.id,`\u{1F431} ${t[0]?.url}`)}catch(t){o(e.channel.id,`\u26A0\uFE0F Error: ${t}`)}}}),d.registerCommand({name:"dog",displayName:"dog",description:"Random dog image",applicationId:"-1",inputType:1,type:1,execute:async function(n,e){try{const t=await(await fetch("https://dog.ceo/api/breeds/image/random")).json();p(e.channel.id,`\u{1F436} ${t.message}`)}catch(t){o(e.channel.id,`\u26A0\uFE0F Error: ${t}`)}}}),d.registerCommand({name:"mcskin",displayName:"mcskin",description:"Fetch a Minecraft player skin",options:[{name:"player",displayName:"player",description:"Player username",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:async function(n,e){const t=s(n,"player");try{const a=await(await fetch(`https://api.mojang.com/users/profiles/minecraft/${t}`)).json();if(!a.id)return o(e.channel.id,`\u274C Player **${t}** not found.`);const r=`https://crafatar.com/renders/body/${a.id}?overlay=true`;o(e.channel.id,`\u26CF\uFE0F **${t}'s Skin:**
${r}`)}catch(a){o(e.channel.id,`\u26A0\uFE0F Error: ${a}`)}}}),d.registerCommand({name:"mcstatus",displayName:"mcstatus",description:"Check if a Minecraft server is online",options:[{name:"ip",displayName:"ip",description:"Server IP",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:async function(n,e){const t=s(n,"ip");try{const a=await(await fetch(`https://api.mcsrvstat.us/2/${t}`)).json();if(!a.online)return o(e.channel.id,`\u274C **${t}** is **offline** or unreachable.`);o(e.channel.id,`\u2705 **${t}** \u2014 Online
\u{1F465} Players: ${a.players?.online??0}/${a.players?.max??0}
\u{1F4CB} MOTD: ${a.motd?.clean?.join(" ")||"N/A"}
\u{1F579}\uFE0F Version: ${a.version||"Unknown"}`)}catch(a){o(e.channel.id,`\u26A0\uFE0F Error: ${a}`)}}}),d.registerCommand({name:"status",displayName:"status",description:"Set your Discord status",options:[{name:"type",displayName:"type",description:"online/idle/dnd/invisible",required:!0,type:3},{name:"text",displayName:"text",description:"Custom status text",required:!1,type:3}],applicationId:"-1",inputType:1,type:1,execute:async function(n,e){const t=s(n,"type"),a=s(n,"text"),r=["online","idle","dnd","invisible"];if(!r.includes(t))return o(e.channel.id,`\u274C Invalid status. Choose: ${r.join(", ")}`);try{await l.patch({url:"/users/@me/settings",body:{status:t}}),a&&await l.patch({url:"/users/@me/settings",body:{custom_status:{text:a,emoji_name:null}}}),o(e.channel.id,`\u2705 Status set to **${t}**${a?`: *${a}*`:""}.`)}catch(c){o(e.channel.id,`\u26A0\uFE0F Error: ${c}`)}}}),d.registerCommand({name:"blocklist",displayName:"blocklist",description:"Manage the plugin blocklist",options:[{name:"action",displayName:"action",description:"add/remove/list",required:!0,type:3},{name:"user",displayName:"user",description:"User ID",required:!1,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(n,e){const t=s(n,"action"),a=s(n,"user");i.storage.blocklist||(i.storage.blocklist=[]),t==="add"&&a?(i.storage.blocklist.push(a),o(e.channel.id,`\u{1F6AB} Added \`${a}\` to blocklist.`)):t==="remove"&&a?(i.storage.blocklist=i.storage.blocklist.filter(function(r){return r!==a}),o(e.channel.id,`\u2705 Removed \`${a}\` from blocklist.`)):t==="list"&&o(e.channel.id,`\u{1F6AB} **Blocklist:** ${i.storage.blocklist.join(", ")||"Empty"}`)}}));const H=y.findByTypeName("UserProfile")||y.findByTypeName("UserProfileContent");H&&z.push(X.after("type",H,function(n,e){const t=e?.props?.children,a=n[0]?.userId??n[0]?.user?.id;t&&a&&t.push(u.React.createElement(ue,{userId:a}))}));var ke={onLoad:function(){return U.logger.log(`Plugin loaded with ${M.length} commands.`)},onUnload:function(){M.forEach(function(n){return n()}),z.forEach(function(n){return n()}),N&&(N.unsubscribe("MESSAGE_CREATE",K),N.unsubscribe("MESSAGE_UPDATE",V),N.unsubscribe("MESSAGE_DELETE",W)),U.logger.log("Plugin unloaded.")},settings:re};return I.default=ke,Object.defineProperty(I,"__esModule",{value:!0}),I})({},vendetta,vendetta.metro.common,vendetta.plugin,vendetta.storage,vendetta.ui,vendetta.ui.toasts,vendetta.ui.components,vendetta.ui.assets,vendetta.metro,vendetta.commands,vendetta.patcher);
